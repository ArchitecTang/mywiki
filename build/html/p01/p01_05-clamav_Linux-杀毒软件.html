

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1.5 clamav Linux-杀毒软件 &mdash; ArchitecTang’Blog 2.0 文档</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="1.6 Linux-软链接和硬链接" href="p01_06-Linux-%E8%BD%AF%E9%93%BE%E6%8E%A5%E5%92%8C%E7%A1%AC%E9%93%BE%E6%8E%A5%E4%BB%8B%E7%BB%8D.html" />
    <link rel="prev" title="1.4 zabbix监控历史数据清理操作方案" href="p01_04-zabbix%E7%9B%91%E6%8E%A7%E5%8E%86%E5%8F%B2%E6%95%B0%E6%8D%AE%E6%B8%85%E7%90%86%E6%93%8D%E4%BD%9C%E6%96%B9%E6%A1%88.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> ArchitecTang’Blog
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../preface.html">前言</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../chapters/p01.html">第一章 Linux 笔记</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="p01_01-Nmap%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7.html">1.1 nmap使用</a></li>
<li class="toctree-l2"><a class="reference internal" href="p01_02-Rabbitmq-%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85.html">1.2 Rabbitmq 入门(集群安装篇)</a></li>
<li class="toctree-l2"><a class="reference internal" href="p01_03-Haproxy%E5%85%A5%E9%97%A8-%E5%AE%89%E8%A3%85%E7%AF%87.html">1.3 Haproxy入门(安装篇)</a></li>
<li class="toctree-l2"><a class="reference internal" href="p01_04-zabbix%E7%9B%91%E6%8E%A7%E5%8E%86%E5%8F%B2%E6%95%B0%E6%8D%AE%E6%B8%85%E7%90%86%E6%93%8D%E4%BD%9C%E6%96%B9%E6%A1%88.html">1.4 zabbix监控历史数据清理操作方案</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">1.5 clamav Linux-杀毒软件</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#clamav">1.5.1 clamav简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">1.5.2 安装clamav</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">1.5.3 使用</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="p01_06-Linux-%E8%BD%AF%E9%93%BE%E6%8E%A5%E5%92%8C%E7%A1%AC%E9%93%BE%E6%8E%A5%E4%BB%8B%E7%BB%8D.html">1.6 Linux-软链接和硬链接</a></li>
<li class="toctree-l2"><a class="reference internal" href="p01_07-Ansible%E5%9C%A8%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E5%87%BA%E7%8E%B0%E7%9A%84%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95.html">1.7 Ansible在使用过程中出现的错误解决方法</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p02.html">第二章 Python 笔记</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p03.html">第三章 微服务笔记</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p04.html">第四章 网络相关笔记</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p05.html">第五章 安全相关笔记</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p06.html">第六章 shell 笔记</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p07.html">第七章 工具相关</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p08.html">第八章 数据库相关笔记</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ArchitecTang’Blog</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../chapters/p01.html">第一章 Linux 笔记</a> &raquo;</li>
        
      <li>1.5 clamav Linux-杀毒软件</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/p01/p01_05-clamav_Linux-杀毒软件.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="contents topic" id="id1">
<p class="topic-title">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="#clamav-linux" id="id4">1.5 clamav Linux-杀毒软件</a></p>
<ul>
<li><p><a class="reference internal" href="#clamav" id="id5">1.5.1 clamav简介</a></p></li>
<li><p><a class="reference internal" href="#id2" id="id6">1.5.2 安装clamav</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id7">1.5.3 使用</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="clamav-linux">
<h1><a class="toc-backref" href="#id4">1.5 clamav Linux-杀毒软件</a><a class="headerlink" href="#clamav-linux" title="永久链接至标题">¶</a></h1>
<div class="section" id="clamav">
<h2><a class="toc-backref" href="#id5">1.5.1 clamav简介</a><a class="headerlink" href="#clamav" title="永久链接至标题">¶</a></h2>
<p>ClamAV是一个C语言开发的开源病毒扫描工具用于检测木马/病毒/恶意软件等。可以在线更新病毒库，Linux系统的病毒较少，但是并不意味着病毒免疫，尤其是对于诸如邮件或者归档文件中夹杂的病毒往往更加难以防范，而ClamAV则能起到不少作用。
<a class="reference external" href="http://www.clamav.net">官网上关于clamav的解释很简单，就是一款用于木马、病毒、恶意软件以及其他恶意威胁的杀毒软件(点击此处跳转到官网)</a></p>
<p><a class="reference external" href="http://www.clamav.net/downloads">官网下载地址</a></p>
<p>更多特性：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1、主要用途    邮件网关的病毒扫描，内建支持多种邮件格式
2、高性能      提供多线程的扫描进程
3、命令行      提供密令行扫描方式
4、扫描对象    可以对要发送的邮件或者文件进行扫描
5、文件格式    支持多种文件格式
6、病毒库更新频度   一天多次病毒库的更新
7、归档文件        支持扫描多种归档文件,比如Zip, RAR, Dmg, Tar, Gzip, Bzip2, OLE2, Cabinet, CHM, BinHex, SIS等
8、文档           支持流行的文档文件，比如： MS Office文件，MacOffice文件, HTML, Flash, RTF，PDF
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id6">1.5.2 安装clamav</a><a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>CENTOS/RHEL</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">yum</span> <span class="o">-</span><span class="n">y</span> <span class="n">install</span> <span class="n">clamav</span>
</pre></div>
</div>
<p>Ubuntu/Debian</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">clamav</span>
</pre></div>
</div>
<p>安装杀毒软件</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">yum</span> <span class="o">-</span><span class="n">y</span> <span class="n">install</span> <span class="n">clamav</span>
</pre></div>
</div>
<p>更新数据库</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">freshclam</span>
</pre></div>
</div>
<p><img alt="更新数据库.png" src="https://i.loli.net/2019/07/20/5d32e1b20615863780.png" /> 病毒库文件</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">clamav</span><span class="o">/</span><span class="n">daily</span><span class="o">.</span><span class="n">cvd</span>
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">clamav</span><span class="o">/</span><span class="n">main</span><span class="o">.</span><span class="n">cvd</span>
</pre></div>
</div>
<p>添加定时任务，设置自动更新:每两个小时自动更新</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">crontab</span> <span class="o">-</span><span class="n">e</span>
<span class="mi">0</span>  <span class="o">*/</span><span class="mi">2</span> <span class="o">*</span> <span class="o">*</span> <span class="o">*</span> <span class="n">root</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">clamav</span><span class="o">/</span><span class="n">freshclam</span><span class="o">-</span><span class="n">sleep</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id7">1.5.3 使用</a><a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>clamscan是病毒扫描命令，以下是一些常用参数：
clamscan      ---不加参数的使用：扫描当前目录下的文件
clamscan -V   ---查看clamAV的版本
clamscan -r   ---递归扫描子文件夹
clamscan -i   ---仅仅显示被感染的文件
clamscan -o   ---跳过显示状态ok的文件
clamscan --remove       ---检测到有病毒时，直接删除
clamscan --no-summary   ---不显示统计信息
clamscan -l scan.log    ---将扫描日志写入scan.log文件
                                         ---以上命令都可以在末尾添加文件夹，来扫描指定目录，如
clamscan -r -i /home  --remove  -l scan.log   ---递归扫描/home/目录下的所有文件，只显示病毒文件，并同时删除
</pre></div>
</div>
<p>示例：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">clamscan</span> <span class="o">-</span><span class="n">l</span> <span class="n">scan</span><span class="o">.</span><span class="n">log</span>
</pre></div>
</div>
<div class="figure align-default">
<img alt="scanlog.png" src="https://i.loli.net/2019/07/20/5d32e3b169d8085122.png" />
</div>
<p>执行完以后会有详细的扫描信息</p>
<div class="figure align-default">
<img alt="扫描结果.png" src="https://i.loli.net/2019/07/20/5d32e7c7a53a630074.png" />
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="p01_06-Linux-%E8%BD%AF%E9%93%BE%E6%8E%A5%E5%92%8C%E7%A1%AC%E9%93%BE%E6%8E%A5%E4%BB%8B%E7%BB%8D.html" class="btn btn-neutral float-right" title="1.6 Linux-软链接和硬链接" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="p01_04-zabbix%E7%9B%91%E6%8E%A7%E5%8E%86%E5%8F%B2%E6%95%B0%E6%8D%AE%E6%B8%85%E7%90%86%E6%93%8D%E4%BD%9C%E6%96%B9%E6%A1%88.html" class="btn btn-neutral float-left" title="1.4 zabbix监控历史数据清理操作方案" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; 版权所有 2020, Architectang

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>